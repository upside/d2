deptrac:
    paths:
        - ./src
    exclude_files:
        - '#.*/Tests/.*#'
        - '#.*/tests/.*#'

    # Modular monolith boundary rules (v0).
    # - Shared is reusable cross-cutting model/services.
    # - Modules may depend on Shared.
    # - Shared must not depend on Modules.
    layers:
        -
            name: Shared
            collectors:
                -
                    type: directory
                    value: src/Shared
        -
            name: Modules
            collectors:
                -
                    type: directory
                    value: src/Modules

    ruleset:
        Modules:
            - Shared
        Shared: ~
